<template>
  <div class="auth">
    <div class="auth__left">
      <div class="auth__logo">
        <Logo color="light" size="big" to="/" />
      </div>

      <div class="auth__login-wrap">
        <h1 class="auth__title">Добро пожаловать!</h1>

        <b-form-input
          v-model="login"
          placeholder="Логин"
          class="auth__login-input"
        ></b-form-input>
        <b-form-input
          v-model="password"
          placeholder="Пароль"
          class="auth__password-input"
        ></b-form-input>

        <div class="auth__info-wrap">
          <b-form-checkbox
            id="remember-me"
            v-model="rememberMe"
            name="remember-me"
            class="auth__remember-me"
          >
            Запомнить меня
          </b-form-checkbox>

          <span class="auth__restore">Забыли пароль?</span>
        </div>

        <b-button
          squared
          block
          variant="light"
          class="auth__submit-btn"
          @click="handleSubmit"
        >
          Вход
        </b-button>
      </div>
    </div>
    <div class="auth__right">
      <div class="auth__image">
        <svg
          width="744"
          height="488"
          viewBox="0 0 744 488"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0)">
            <path
              d="M170.805 259.815C176.624 248.13 179.916 237.953 178.157 237.083C176.397 236.213 170.253 244.981 164.434 256.665C158.615 268.35 155.323 278.527 157.082 279.397C158.842 280.267 164.986 271.499 170.805 259.815Z"
              fill="#E0E0E0"
            />
            <path
              d="M466.011 405.876C471.831 394.191 475.579 384.24 474.384 383.649C473.189 383.058 467.502 392.052 461.683 403.736C455.863 415.421 452.115 425.372 453.31 425.963C454.505 426.554 460.192 417.561 466.011 405.876Z"
              fill="#E0E0E0"
            />
            <path
              d="M307.376 346.806L296.407 337.783L266.218 374.207L277.186 383.23L307.376 346.806Z"
              fill="#F55F44"
            />
            <path
              opacity="0.05"
              d="M282.153 386.135L297.733 389.785L308.585 343.803L293.005 340.153L282.153 386.135Z"
              fill="black"
            />
            <path
              d="M283.886 386.541L297.733 389.785L308.585 343.802L294.738 340.559L283.886 386.541Z"
              fill="#F55F44"
            />
            <path
              d="M178.683 236.025L156.556 280.455L452.808 426.894L474.936 382.464L178.683 236.025Z"
              fill="url(#paint0_linear)"
            />
            <path
              d="M453.335 425.836C447.536 423.065 152.835 277.297 157.083 279.397C173.439 254.525 178.157 237.083 178.157 237.083L474.409 383.522C474.409 383.522 464.005 401.712 453.335 425.836Z"
              fill="#F5F5F5"
            />
            <path
              opacity="0.05"
              d="M332.123 313.189L307.7 301.117L286.626 343.431L311.049 355.503L332.123 313.189Z"
              fill="black"
            />
            <path
              d="M331.061 312.664L308.762 301.642L287.688 343.956L309.987 354.978L331.061 312.664Z"
              fill="#F55F44"
            />
            <path
              opacity="0.05"
              d="M326.813 310.565L311.948 303.217L290.874 345.531L305.739 352.879L326.813 310.565Z"
              fill="black"
            />
            <path
              d="M325.752 310.04L313.01 303.742L291.936 346.055L304.678 352.354L325.752 310.04Z"
              fill="#F55F44"
            />
            <g opacity="0.5">
              <path
                opacity="0.5"
                d="M169.402 389.412H167.376V400.852H169.402V389.412Z"
                fill="#47E6B1"
              />
              <path
                opacity="0.5"
                d="M174.131 396.141V394.122H162.647V396.141H174.131Z"
                fill="#47E6B1"
              />
            </g>
            <g opacity="0.5">
              <path
                opacity="0.5"
                d="M669.704 247.463H665.911V268.925H669.704V247.463Z"
                fill="#47E6B1"
              />
              <path
                opacity="0.5"
                d="M678.554 260.087V256.3H657.062V260.087H678.554Z"
                fill="#47E6B1"
              />
            </g>
            <g opacity="0.5">
              <path
                opacity="0.5"
                d="M155.948 65.0359H153.419V79.3438H155.948V65.0359Z"
                fill="#47E6B1"
              />
              <path
                opacity="0.5"
                d="M161.848 73.4525V70.9275H147.52V73.4525H161.848Z"
                fill="#47E6B1"
              />
            </g>
            <g opacity="0.5">
              <path
                opacity="0.5"
                d="M619.297 87.2441H617.271V98.6847H619.297V87.2441Z"
                fill="#47E6B1"
              />
              <path
                opacity="0.5"
                d="M624.026 93.9738V91.9549H612.542V93.9738H624.026Z"
                fill="#47E6B1"
              />
            </g>
            <path
              opacity="0.5"
              d="M157.389 236.484C156.725 236.196 156.191 235.673 155.888 235.016C155.584 234.36 155.534 233.614 155.745 232.923C155.779 232.817 155.801 232.707 155.809 232.596C155.828 232.279 155.745 231.964 155.571 231.698C155.397 231.432 155.142 231.23 154.844 231.12C154.546 231.01 154.22 230.999 153.915 231.088C153.61 231.178 153.342 231.363 153.15 231.616C153.084 231.706 153.029 231.804 152.986 231.907C152.697 232.57 152.174 233.103 151.516 233.406C150.859 233.709 150.112 233.76 149.42 233.549C149.314 233.515 149.204 233.493 149.092 233.485C148.775 233.465 148.46 233.549 148.194 233.722C147.927 233.896 147.724 234.15 147.614 234.448C147.504 234.746 147.493 235.071 147.583 235.376C147.672 235.681 147.858 235.948 148.112 236.14C148.202 236.205 148.299 236.26 148.402 236.303C149.066 236.592 149.601 237.114 149.904 237.771C150.207 238.428 150.258 239.173 150.047 239.865C150.012 239.971 149.991 240.081 149.982 240.192C149.963 240.509 150.047 240.823 150.22 241.089C150.394 241.355 150.649 241.558 150.947 241.668C151.246 241.778 151.572 241.789 151.877 241.699C152.182 241.61 152.45 241.425 152.641 241.171C152.707 241.081 152.762 240.984 152.805 240.881C153.094 240.218 153.617 239.684 154.275 239.381C154.933 239.079 155.679 239.028 156.372 239.239C156.478 239.273 156.588 239.295 156.699 239.303C157.016 239.322 157.332 239.239 157.598 239.065C157.864 238.892 158.067 238.637 158.177 238.339C158.287 238.041 158.298 237.716 158.209 237.411C158.119 237.107 157.934 236.839 157.68 236.648C157.59 236.582 157.492 236.527 157.389 236.484Z"
              fill="#4D8AF0"
            />
            <path
              opacity="0.5"
              d="M276.867 105.726C275.982 105.341 275.269 104.645 274.865 103.769C274.46 102.893 274.393 101.9 274.674 100.977C274.72 100.836 274.749 100.69 274.76 100.541C274.786 100.119 274.675 99.6993 274.443 99.3448C274.211 98.9903 273.871 98.7197 273.473 98.5732C273.076 98.4267 272.641 98.412 272.234 98.5313C271.828 98.6506 271.47 98.8976 271.215 99.2356C271.127 99.3556 271.054 99.4854 270.997 99.6225C270.611 100.507 269.913 101.218 269.037 101.622C268.16 102.026 267.165 102.093 266.241 101.812C266.099 101.766 265.953 101.738 265.805 101.727C265.382 101.701 264.961 101.812 264.606 102.043C264.251 102.275 263.98 102.614 263.834 103.011C263.687 103.409 263.672 103.842 263.792 104.249C263.911 104.655 264.158 105.012 264.497 105.267C264.617 105.354 264.747 105.427 264.884 105.485C265.77 105.87 266.482 106.566 266.887 107.442C267.291 108.318 267.359 109.311 267.077 110.234C267.031 110.375 267.003 110.521 266.991 110.669C266.966 111.092 267.077 111.512 267.309 111.866C267.54 112.221 267.88 112.491 268.278 112.638C268.676 112.784 269.11 112.799 269.517 112.68C269.924 112.56 270.281 112.313 270.536 111.975C270.624 111.855 270.697 111.725 270.755 111.588C271.14 110.704 271.838 109.993 272.715 109.589C273.592 109.185 274.587 109.118 275.51 109.399C275.652 109.444 275.798 109.473 275.947 109.484C276.37 109.51 276.79 109.399 277.145 109.168C277.5 108.936 277.771 108.597 277.918 108.2C278.065 107.802 278.079 107.368 277.96 106.962C277.84 106.556 277.593 106.199 277.254 105.944C277.134 105.857 277.004 105.783 276.867 105.726Z"
              fill="#4D8AF0"
            />
            <path
              opacity="0.5"
              d="M660.504 367.876C662.742 367.876 664.557 366.068 664.557 363.838C664.557 361.608 662.742 359.801 660.504 359.801C658.265 359.801 656.45 361.608 656.45 363.838C656.45 366.068 658.265 367.876 660.504 367.876Z"
              fill="#F55F44"
            />
            <path
              opacity="0.5"
              d="M571.335 393.449C573.574 393.449 575.388 391.642 575.388 389.412C575.388 387.181 573.574 385.374 571.335 385.374C569.097 385.374 567.282 387.181 567.282 389.412C567.282 391.642 569.097 393.449 571.335 393.449Z"
              fill="#4D8AF0"
            />
            <path
              opacity="0.5"
              d="M426.743 75.7668C429.711 75.7668 432.116 73.3646 432.116 70.4014C432.116 67.4381 429.711 65.0359 426.743 65.0359C423.776 65.0359 421.37 67.4381 421.37 70.4014C421.37 73.3646 423.776 75.7668 426.743 75.7668Z"
              fill="#F55F44"
            />
            <path
              d="M285.929 305.626L269.717 329.853C269.717 329.853 275.121 354.753 394.687 354.08C514.254 353.407 523.711 329.853 523.711 329.853L501.419 297.55L433.192 251.114L285.929 305.626Z"
              fill="#2F73EA"
            />
            <path
              opacity="0.15"
              d="M285.929 305.626L269.717 329.853C269.717 329.853 275.121 354.753 394.687 354.08C514.254 353.407 523.711 329.853 523.711 329.853L501.419 297.55L433.192 251.114L285.929 305.626Z"
              fill="black"
            />
            <path
              d="M630.781 215.783L417.993 309.327L158.594 215.783L396.376 108.107L513.099 161.723L517.28 163.647L630.781 215.783Z"
              fill="#2F73EA"
            />
            <path
              opacity="0.15"
              d="M630.781 215.783L417.993 309.327L158.594 215.783L396.376 108.107L513.099 161.723L517.28 163.647L630.781 215.783Z"
              fill="black"
            />
            <path
              d="M521.684 238.207L517.631 238.449L513.099 161.723L517.28 163.647L521.684 238.207Z"
              fill="#F5F5F5"
            />
            <path
              d="M288.631 215.447L269.717 329.853C269.717 329.853 405.496 286.109 523.711 329.853L506.148 208.717C506.148 208.717 347.401 189.2 288.631 215.447Z"
              fill="#2F73EA"
            />
            <path
              d="M521.347 261.546C532.166 261.546 540.937 255.52 540.937 248.086C540.937 240.653 532.166 234.627 521.347 234.627C510.528 234.627 501.757 240.653 501.757 248.086C501.757 255.52 510.528 261.546 521.347 261.546Z"
              fill="#F5F5F5"
            />
          </g>
          <path
            opacity="0.5"
            d="M101.786 401.043C104.588 401.043 106.859 398.836 106.859 396.112C106.859 393.389 104.588 391.181 101.786 391.181C98.9844 391.181 96.7131 393.389 96.7131 396.112C96.7131 398.836 98.9844 401.043 101.786 401.043Z"
            fill="#47E6B1"
          />
          <path
            opacity="0.5"
            d="M370.686 456.273C369.432 455.742 368.423 454.781 367.85 453.574C367.277 452.367 367.181 450.997 367.58 449.726C367.645 449.531 367.686 449.329 367.702 449.125C367.738 448.543 367.581 447.964 367.252 447.476C366.924 446.987 366.443 446.614 365.879 446.412C365.316 446.21 364.701 446.19 364.125 446.354C363.549 446.519 363.042 446.859 362.681 447.325C362.557 447.49 362.453 447.669 362.372 447.858C361.826 449.077 360.838 450.058 359.596 450.615C358.354 451.171 356.945 451.264 355.637 450.877C355.436 450.814 355.229 450.774 355.019 450.759C354.419 450.723 353.824 450.876 353.321 451.195C352.819 451.514 352.435 451.982 352.227 452.53C352.019 453.078 351.999 453.676 352.168 454.236C352.337 454.795 352.687 455.287 353.167 455.639C353.337 455.76 353.521 455.861 353.715 455.939C354.969 456.47 355.978 457.431 356.551 458.638C357.123 459.845 357.219 461.215 356.82 462.486C356.756 462.681 356.715 462.883 356.699 463.087C356.663 463.669 356.82 464.248 357.149 464.736C357.477 465.225 357.958 465.598 358.521 465.8C359.085 466.002 359.7 466.022 360.276 465.858C360.852 465.693 361.358 465.353 361.72 464.887C361.844 464.722 361.948 464.543 362.029 464.354C362.575 463.135 363.563 462.154 364.805 461.597C366.047 461.041 367.456 460.948 368.764 461.335C368.965 461.398 369.172 461.438 369.382 461.453C369.982 461.489 370.577 461.336 371.079 461.017C371.582 460.698 371.966 460.23 372.174 459.682C372.382 459.135 372.402 458.536 372.233 457.977C372.064 457.417 371.714 456.924 371.234 456.573C371.064 456.452 370.88 456.351 370.686 456.273Z"
            fill="#4D8AF0"
          />
          <path
            opacity="0.5"
            d="M714.775 202.16C717.576 202.16 719.848 199.952 719.848 197.229C719.848 194.505 717.576 192.298 714.775 192.298C711.973 192.298 709.702 194.505 709.702 197.229C709.702 199.952 711.973 202.16 714.775 202.16Z"
            fill="#47E6B1"
          />
          <g opacity="0.5">
            <path
              opacity="0.5"
              d="M658.226 426.52H654.645V446.244H658.226V426.52Z"
              fill="#47E6B1"
            />
            <path
              opacity="0.5"
              d="M666.581 438.122V434.642H646.289V438.122H666.581Z"
              fill="#47E6B1"
            />
          </g>
          <path
            opacity="0.5"
            d="M29.073 282.699C31.8748 282.699 34.146 280.492 34.146 277.768C34.146 275.045 31.8748 272.837 29.073 272.837C26.2713 272.837 24 275.045 24 277.768C24 280.492 26.2713 282.699 29.073 282.699Z"
            fill="#F55F44"
          />
          <g opacity="0.5">
            <path
              opacity="0.5"
              d="M529.958 23H527.571V36.1494H529.958V23Z"
              fill="#47E6B1"
            />
            <path
              opacity="0.5"
              d="M535.529 30.7351V28.4146H522.001V30.7351H535.529Z"
              fill="#47E6B1"
            />
          </g>
          <path
            opacity="0.5"
            d="M63.7536 114.307C63.1267 114.041 62.622 113.561 62.3357 112.958C62.0494 112.354 62.0015 111.669 62.201 111.034C62.2333 110.936 62.2536 110.835 62.2616 110.733C62.2798 110.442 62.201 110.153 62.0369 109.908C61.8729 109.664 61.6322 109.477 61.3505 109.376C61.0688 109.275 60.7612 109.265 60.4732 109.348C60.1851 109.43 59.932 109.6 59.7513 109.833C59.6891 109.916 59.6372 110.005 59.5967 110.1C59.3236 110.709 58.8296 111.2 58.2087 111.478C57.5877 111.756 56.8831 111.803 56.2291 111.609C56.1288 111.577 56.0251 111.558 55.9201 111.55C55.6204 111.532 55.3229 111.609 55.0715 111.768C54.8201 111.928 54.6282 112.162 54.5243 112.435C54.4204 112.709 54.41 113.008 54.4946 113.288C54.5792 113.568 54.7543 113.814 54.9941 113.99C55.0791 114.05 55.1712 114.101 55.2684 114.14C55.8953 114.406 56.3999 114.886 56.6862 115.489C56.9725 116.093 57.0205 116.778 56.821 117.414C56.7887 117.511 56.7684 117.612 56.7604 117.714C56.7422 118.005 56.8209 118.294 56.985 118.539C57.1491 118.783 57.3898 118.97 57.6715 119.071C57.9531 119.172 58.2607 119.182 58.5488 119.099C58.8368 119.017 59.09 118.847 59.2707 118.614C59.3328 118.531 59.3847 118.442 59.4253 118.347C59.6983 117.738 60.1923 117.247 60.8133 116.969C61.4343 116.691 62.1388 116.644 62.7929 116.838C62.8931 116.87 62.9969 116.889 63.1019 116.897C63.4015 116.915 63.6991 116.838 63.9505 116.679C64.2019 116.519 64.3938 116.285 64.4977 116.012C64.6016 115.738 64.612 115.439 64.5274 115.159C64.4428 114.879 64.2676 114.633 64.0279 114.457C63.9429 114.397 63.8508 114.346 63.7536 114.307Z"
            fill="#4D8AF0"
          />
          <defs>
            <linearGradient
              id="paint0_linear"
              x1="304.682"
              y1="353.674"
              x2="326.676"
              y2="309.179"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#808080" stop-opacity="0.25" />
              <stop offset="0.53514" stop-color="#808080" stop-opacity="0.12" />
              <stop offset="1" stop-color="#808080" stop-opacity="0.1" />
            </linearGradient>
            <clipPath id="clip0">
              <rect
                width="537.303"
                height="386.315"
                fill="white"
                transform="translate(147.52 65.0359)"
              />
            </clipPath>
          </defs>
        </svg>
      </div>
    </div>
  </div>
</template>

<script>
import Logo from "../components/Logo";
import { mapActions, mapGetters } from "vuex";

export default {
  name: "Auth",
  components: { Logo },

  data() {
    return {
      login: "",
      password: "",
      rememberMe: false,
    };
  },

  computed: {
    ...mapGetters(["GET_USER"]),
  },

  methods: {
    ...mapActions(["LOGIN_USER"]),

    handleSubmit() {
      this.LOGIN_USER({
        login: this.login,
        password: this.password,
      }).then(() => this.$router.push("/"));
    },
  },
};
</script>

<style lang="scss" scoped>
.auth {
  width: 100%;
  height: 100%;
  display: flex;

  &__left {
    position: relative;
    width: 42%;
    background-color: #2f73ea;
    padding: 64px;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  &__logo {
    position: absolute;
    top: 64px;
    left: 64px;
  }

  &__login-wrap {
    width: 335px;
  }

  &__title {
    color: #ffffff;
    font-weight: 600;
    font-size: 28px;
    margin-bottom: 48px;
    text-align: center;
  }

  &__password-input,
  &__login-input {
    background: transparent;
    border: 2px solid #ffffff;
    border-radius: 0px;
    margin-bottom: 18px;
    color: #ffffff;
    font-size: 18px;

    &::placeholder {
      color: #ffffff;
      font-size: 18px;
    }

    &:focus {
      background-color: transparent;
      color: #ffffff;
      border: 2px solid #ffffff;
    }
  }

  &__info-wrap {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 32px;
  }

  &__remember-me {
    font-weight: normal;
    font-size: 16px;
    color: rgba(255, 255, 255, 0.7);
  }

  &__submit-btn {
    color: #2f73ea !important;
    box-shadow: none !important;
    font-weight: 600;
    font-size: 20px;
    background-color: #ffffff;
  }

  &__restore {
    font-weight: normal;
    font-size: 16px;
    color: rgba(255, 255, 255, 0.7);
  }

  &__right {
    width: 58%;
    background-color: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
  }
}
</style>

<style lang="scss">
.auth {
  &__remember-me {
    & input:checked ~ .custom-control-label::before {
      background: transparent;
      border: 2px solid rgba(255, 255, 255, 0.7);
    }

    & label:before {
      background: transparent;
      border: 2px solid rgba(255, 255, 255, 0.7);
      box-sizing: border-box;
      border-radius: 2px;
    }
  }
}
</style>